@page
@using System.Data.SqlClient
@using BoostMyTool.Application.Interfaces
@inject ISettings _settings
@{
    try
    {
        string id = Request.Query["Id"]!;

        using (SqlConnection connection = new SqlConnection(_settings.GetDBConnectionInfo()))
        {
            connection.Open();
            string sql = "DELETE FROM clients WHERE id=@id;";
            using SqlCommand command = new(sql, connection);
            command.Parameters.AddWithValue("@id", id);
            command.ExecuteNonQuery();
        }
    }
    catch(Exception e)
    {}
    
    Response.Redirect("/Clients/Index");
}